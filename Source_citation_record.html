<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=US-ASCII" http-equiv="Content-Type">

<title>class Source_citation_record - gedcom-0.9.3 Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/gedcom/source_citation_record.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="GEDCOMBase.html">GEDCOMBase</a>
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-to_gedcom">#to_gedcom</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./History_txt.html">History</a>
  
    <li class="file"><a href="./Manifest_txt.html">Manifest</a>
  
    <li class="file"><a href="./README_txt.html">README</a>
  
    <li class="file"><a href="./test_data/README_txt.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Address_record.html">Address_record</a>
  
    <li><a href="./Adoption_record.html">Adoption_record</a>
  
    <li><a href="./Association_record.html">Association_record</a>
  
    <li><a href="./Bit.html">Bit</a>
  
    <li><a href="./Btree.html">Btree</a>
  
    <li><a href="./Btree_data.html">Btree_data</a>
  
    <li><a href="./Btree_node.html">Btree_node</a>
  
    <li><a href="./Cause_record.html">Cause_record</a>
  
    <li><a href="./Change_date_record.html">Change_date_record</a>
  
    <li><a href="./Character_set_record.html">Character_set_record</a>
  
    <li><a href="./Chart.html">Chart</a>
  
    <li><a href="./Citation_data_record.html">Citation_data_record</a>
  
    <li><a href="./Citation_event_type_record.html">Citation_event_type_record</a>
  
    <li><a href="./ClassTracker.html">ClassTracker</a>
  
    <li><a href="./Copyright_record.html">Copyright_record</a>
  
    <li><a href="./Corporate_record.html">Corporate_record</a>
  
    <li><a href="./Date_record.html">Date_record</a>
  
    <li><a href="./Decendant.html">Decendant</a>
  
    <li><a href="./Encoded_line_record.html">Encoded_line_record</a>
  
    <li><a href="./Event_age_record.html">Event_age_record</a>
  
    <li><a href="./Event_record.html">Event_record</a>
  
    <li><a href="./Events_list_record.html">Events_list_record</a>
  
    <li><a href="./Families_individuals.html">Families_individuals</a>
  
    <li><a href="./Family_record.html">Family_record</a>
  
    <li><a href="./GEDCOMBase.html">GEDCOMBase</a>
  
    <li><a href="./GedLine.html">GedLine</a>
  
    <li><a href="./GedString.html">GedString</a>
  
    <li><a href="./Gedcom.html">Gedcom</a>
  
    <li><a href="./GedcomParser.html">GedcomParser</a>
  
    <li><a href="./Gedcom_record.html">Gedcom_record</a>
  
    <li><a href="./Header_data_record.html">Header_data_record</a>
  
    <li><a href="./Header_record.html">Header_record</a>
  
    <li><a href="./Header_source_record.html">Header_source_record</a>
  
    <li><a href="./Individual_attribute_record.html">Individual_attribute_record</a>
  
    <li><a href="./Individual_record.html">Individual_record</a>
  
    <li><a href="./Instruction.html">Instruction</a>
  
    <li><a href="./Multimedia_citation_record.html">Multimedia_citation_record</a>
  
    <li><a href="./Multimedia_file_record.html">Multimedia_file_record</a>
  
    <li><a href="./Multimedia_format_record.html">Multimedia_format_record</a>
  
    <li><a href="./Multimedia_obje_file_record.html">Multimedia_obje_file_record</a>
  
    <li><a href="./Multimedia_obje_format_record.html">Multimedia_obje_format_record</a>
  
    <li><a href="./Multimedia_record.html">Multimedia_record</a>
  
    <li><a href="./Name_phonetic_record.html">Name_phonetic_record</a>
  
    <li><a href="./Name_record.html">Name_record</a>
  
    <li><a href="./Name_romanized_record.html">Name_romanized_record</a>
  
    <li><a href="./Note_citation_record.html">Note_citation_record</a>
  
    <li><a href="./Note_record.html">Note_record</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./PEDIGREE_WIDTH.html">PEDIGREE_WIDTH</a>
  
    <li><a href="./ParseState.html">ParseState</a>
  
    <li><a href="./Place_record.html">Place_record</a>
  
    <li><a href="./Placename_map_record.html">Placename_map_record</a>
  
    <li><a href="./Placename_phonetic_record.html">Placename_phonetic_record</a>
  
    <li><a href="./Placename_romanized_record.html">Placename_romanized_record</a>
  
    <li><a href="./Refn_record.html">Refn_record</a>
  
    <li><a href="./Repository_caln.html">Repository_caln</a>
  
    <li><a href="./Repository_citation_record.html">Repository_citation_record</a>
  
    <li><a href="./Repository_record.html">Repository_record</a>
  
    <li><a href="./Source_citation_record.html">Source_citation_record</a>
  
    <li><a href="./Source_record.html">Source_record</a>
  
    <li><a href="./Source_scope_record.html">Source_scope_record</a>
  
    <li><a href="./Submission_record.html">Submission_record</a>
  
    <li><a href="./Submitter_record.html">Submitter_record</a>
  
    <li><a href="./Text_record.html">Text_record</a>
  
    <li><a href="./Trailer_record.html">Trailer_record</a>
  
    <li><a href="./Transmission.html">Transmission</a>
  
    <li><a href="./TransmissionBase.html">TransmissionBase</a>
  
    <li><a href="./Xref.html">Xref</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Source_citation_record</h1>

  <div id="description" class="description">
    
<p>Internal representation of a reference to the GEDCOM SOUR record type. Both
inline SOUR records and references to a Level 0 SOUR records are referenced
via this class. We store inline SOUR records in <a
href="Source_record.html">Source_record</a> objects, not <a
href="Source_citation_record.html">Source_citation_record</a> objects.</p>

<h1 id="label-SOURCE_CITATION%3A%3D+%28within+another+record%2C+referencing+a+SOURCE_RECORD%29">SOURCE_CITATION:= (within another record, referencing a SOURCE_RECORD)</h1>

<pre>n SOUR @&lt;XREF:SOUR&gt;@                         {1:1} (pointer to source record)
  +1 PAGE &lt;WHERE_WITHIN_SOURCE&gt;              {0:1}
  +1 EVEN &lt;EVENT_TYPE_CITED_FROM&gt;            {0:1}
    +2 ROLE &lt;ROLE_IN_EVENT&gt;                  {0:1}
  +1 DATA                                    {0:1}
    +2 DATE &lt;ENTRY_RECORDING_DATE&gt;           {0:1}
    +2 TEXT &lt;TEXT_FROM_SOURCE&gt;               {0:M}
      +3 [ CONC | CONT ] &lt;TEXT_FROM_SOURCE&gt;  {0:M}
  +1 QUAY &lt;CERTAINTY_ASSESSMENT&gt;             {0:1}
  +1 &lt;&lt;MULTIMEDIA_LINK&gt;&gt;                     {0:M}
  +1 &lt;&lt;NOTE_STRUCTURE&gt;&gt;                      {0:M}

The data provided in the &lt;&lt;SOURCE_CITATION&gt;&gt; structure is source-related information specific
to the data being cited. (See GEDCOM examples starting on page 57.) Systems that do not use
SOURCE_RECORDS must use the second SOURce citation structure option. When systems which
support SOURCE_RECORD structures encounter source citations which do not contain pointers to
source records, that system will need to create a SOURCE_RECORD and store the
&lt;SOURCE_DESCRIPTION&gt; information found in the non-structured source citation in either the
title area of that SOURCE_RECORD, or if the title field is not large enough, place a &quot;(See Notes)&quot;
text in the title area, and place the unstructured source description in the source record's note field.

The information intended to be placed in the citation structure includes:
* A pointer to the SOURCE_RECORD, which contains a more general description of the source.
* Information, such as a page number, on how to find the cited data within the source.
* Actual text from the source that was used in making assertions, for example a date phrase as
  actually recorded or an applicable sentence from a letter, would be appropriate.
* Data that allows an assessment of the relative value of one source over another for making the
  recorded assertions (primary or secondary source, etc.). Data needed for this assessment is how
  much time from the asserted fact and when the source event was recorded, what type of event
  was cited, and what was the role of this person in the cited event.
  - Date when the entry was recorded in source document, &quot;.SOUR.DATA.DATE.&quot;
  - Event that initiated the recording, &quot;.SOUR.EVEN.&quot;
  - Role of this person in the event, &quot;.SOUR.EVEN.ROLE&quot;.</pre>

<p>The attributes are all arrays representing all the +1 TAGS/Records.</p>
<ul><li>
<p>Those ending in _ref are GEDCOM XREF index keys</p>
</li><li>
<p>Those ending in _record are array of classes of that type.</p>
</li><li>
<p>The remainder are arrays of attributes that could be present in the SOUR
records.</p>
</li></ul>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-citation_data_record" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">citation_data_record</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-citation_event_type_record" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">citation_event_type_record</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-multimedia_citation_record" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">multimedia_citation_record</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-note_citation_record" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">note_citation_record</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-page" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">page</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-quality" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">quality</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-source_record" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">source_record</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-source_ref" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">source_ref</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-to_gedcom" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_gedcom</span><span
            class="method-args">(level=0)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p><a href="Source_citation_record.html#method-i-to_gedcom">#to_gedcom</a>
sets up the state engine arrays @this_level and @sub_level, which drive the
parent class <a
href="Source_citation_record.html#method-i-to_gedcom">#to_gedcom</a> method
generating GEDCOM output. There are two types of SOUR record, inline and
reference, so this is done dynamically in <a
href="Source_citation_record.html#method-i-to_gedcom">#to_gedcom</a> rather
than the initialize method. Probably should be two classes, rather than
this conditional.</p>
          

          
          <div class="method-source-code" id="to_gedcom-source">
            <pre><span class="ruby-comment"># File lib/gedcom/source_citation_record.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_gedcom</span>(<span class="ruby-identifier">level</span>=<span class="ruby-value">0</span>)
  <span class="ruby-keyword">if</span>(<span class="ruby-ivar">@source_ref</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>)
    <span class="ruby-ivar">@this_level</span> = [ [<span class="ruby-value">:xref</span>, <span class="ruby-string">&quot;SOUR&quot;</span>, <span class="ruby-value">:source_ref</span>] ]
    <span class="ruby-ivar">@sub_level</span> =  [  <span class="ruby-comment">#level + 1</span>
                    [<span class="ruby-value">:print</span>, <span class="ruby-string">&quot;PAGE&quot;</span>, <span class="ruby-value">:page</span>],
                    [<span class="ruby-value">:walk</span>, <span class="ruby-keyword">nil</span>,    <span class="ruby-value">:citation_event_type_record</span>],
                    [<span class="ruby-value">:walk</span>, <span class="ruby-keyword">nil</span>,    <span class="ruby-value">:citation_data_record</span>],
                    [<span class="ruby-value">:print</span>, <span class="ruby-string">&quot;QUAY&quot;</span>,  <span class="ruby-value">:quality</span>],
                    [<span class="ruby-value">:walk</span>, <span class="ruby-keyword">nil</span>,  <span class="ruby-value">:multimedia_citation_record</span>],
                    [<span class="ruby-value">:walk</span>, <span class="ruby-keyword">nil</span>,  <span class="ruby-value">:note_citation_record</span>],
                  ]
   <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@source_record</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
     <span class="ruby-ivar">@this_level</span> = [ [<span class="ruby-value">:walk</span>, <span class="ruby-keyword">nil</span>,  <span class="ruby-value">:source_record</span>] ]
     <span class="ruby-ivar">@sub_level</span> =  []
   <span class="ruby-keyword">end</span>
   <span class="ruby-keyword">super</span>(<span class="ruby-identifier">level</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_gedcom-source -->
          
        </div>

        

        
      </div><!-- to_gedcom-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

